!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("immer")):"function"==typeof define&&define.amd?define(["exports","react","immer"],t):t(e.immox={},e.react,e.immer)}(this,function(e,t,r){function o(e){var o=new Set,n={},c=new Map,f=new Proxy(e,{get:function(e,t){o.add(t)}}),i=[],u={};"Object"===Object.getPrototypeOf(e).constructor.name?(i=Object.keys(e),u=e):(i=Object.keys(Object.getOwnPropertyDescriptors(Object.getPrototypeOf(e))).concat(Object.keys(e)),u=Object.getPrototypeOf(e)),i.forEach(function(t){var r=Object.getOwnPropertyDescriptor(u,t);r&&r.get?(n[t]=r.get.call(f),c.set(t,{get:r.get,depends:Array.from(o)}),o.clear()):n[t]=e[t]});var a=t.useState(n),p=a[0],s=a[1],m=t.useCallback(function(e){s(r.produce(e))},[]);return c.forEach(function(e,r){var o=e.depends.map(function(e){return p[e]});t.useMemo(function(){m(function(t){t[r]=e.get.call(t)})},o)}),[p,m]}e.useImmox=o,e.default=o});
//# sourceMappingURL=immox.umd.js.map
