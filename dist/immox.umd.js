!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("immer")):"function"==typeof define&&define.amd?define(["exports","react","immer"],t):t(e.immox={},e.react,e.immer)}(this,function(e,t,n){var r=Symbol("immox");function o(e){t.useMemo(function(){var t=new Map,n=new Set,o=new Proxy(e,{get:function(e,t){n.add(t)}}),c=Object.keys(e);"Object"!==Object.getPrototypeOf(e).constructor.name&&(c=Object.keys(Object.getOwnPropertyDescriptors(Object.getPrototypeOf(e))).concat(Object.keys(e))),c.forEach(function(r){var c=Object.getOwnPropertyDescriptor(e,r);c&&c.get&&(Object.defineProperty(e,r,{value:c.get.call(o)}),t.set(r,{get:c.get,dependents:Array.from(n)}),n.clear())}),e[r]=t},[]);var o=t.useState(e),c=o[0],i=o[1],u=t.useCallback(function(e){i(n.produce(e))},[]);return c[r].forEach(function(e,n){var r=e.dependents.map(function(e){return c[e]});t.useMemo(function(){u(function(t){t[n]=e.get.call(t)})},r)}),[c,u]}e.useImmox=o,e.default=o});
//# sourceMappingURL=immox.umd.js.map
