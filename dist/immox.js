var e=require("react"),t=require("immer"),r=Symbol("immox");function n(n){e.useMemo(function(){var e=new Map,t=new Set,o=new Proxy(n,{get:function(e,r){t.add(r)}}),c=Object.keys(n);"Object"!==Object.getPrototypeOf(n).constructor.name&&(c=Object.keys(Object.getOwnPropertyDescriptors(Object.getPrototypeOf(n))).concat(Object.keys(n))),c.forEach(function(r){var c=Object.getOwnPropertyDescriptor(n,r);c&&c.get&&(Object.defineProperty(n,r,{value:c.get.call(o)}),e.set(r,{get:c.get,dependents:Array.from(t)}),t.clear())}),n[r]=e},[]);var o=e.useState(n),c=o[0],a=o[1],u=e.useCallback(function(e){a(t.produce(e))},[]);return c[r].forEach(function(t,r){var n=t.dependents.map(function(e){return c[e]});e.useMemo(function(){u(function(e){e[r]=t.get.call(e)})},n)}),[c,u]}exports.useImmox=n,exports.default=n;
//# sourceMappingURL=immox.js.map
