var e=require("react"),t=require("immer");function r(r){var c=new Set,o={},n=new Map,a=new Proxy(r,{get:function(e,t){c.add(t)}}),u=[],s={};"Object"===Object.getPrototypeOf(r).constructor.name?(u=Object.keys(r),s=r):(u=Object.keys(Object.getOwnPropertyDescriptors(Object.getPrototypeOf(r))).concat(Object.keys(r)),s=Object.getPrototypeOf(r)),u.forEach(function(e){var t=Object.getOwnPropertyDescriptor(s,e);t&&t.get?(o[e]=t.get.call(a),n.set(e,{get:t.get,depends:Array.from(c)}),c.clear()):o[e]=r[e]});var f=e.useState(o),p=f[0],O=f[1],i=e.useCallback(function(e){O(t.produce(e))},[]);return n.forEach(function(t,r){var c=t.depends.map(function(e){return p[e]});e.useMemo(function(){i(function(e){e[r]=t.get.call(e)})},c)}),[p,i]}exports.useImmox=r,exports.default=r;
//# sourceMappingURL=immox.js.map
